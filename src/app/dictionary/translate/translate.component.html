<div class="content">
  <form [formGroup]="this.dictionaryForm">
    <div class="translation-card">
      <div class="translation-card-header">
        <h2>Translation</h2>
      </div>
      <div class="translation-card-content">
        <div class="translation-input-row">
          <div class="translation-input from">
            <mat-form-field>
              <mat-label for="fromLanguage">Translate from</mat-label>
              <mat-select
                [value]="this.selectedFromLanguage"
                name="fromLanguage"
                formControlName="languageFrom"
              >
                <mat-option
                  *ngFor="let language of this.languages"
                  [value]="language.code"
                  >{{ language.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
            <textarea
              matInput
              id="textFrom"
              formControlName="textFrom"
            ></textarea>
            <ng-container
              *ngIf="
                this.dictionaryForm.controls['textFrom'].invalid &&
                this.dictionaryForm.controls['textFrom'].touched
              "
            >
              <span
                class="error-message"
                *ngIf="
                  this.dictionaryForm.controls['textFrom'].errors!['required']
                "
              >
                For translation, enter a text!
              </span>
            </ng-container>
          </div>
          <div class="translation-input to">
            <mat-form-field>
              <mat-label for="toLanguage">Translate to</mat-label>
              <mat-select
                [value]="this.selectedToLanguage"
                name="toLanguage"
                formControlName="languageTo"
              >
                <mat-option
                  *ngFor="let language of this.languages"
                  [value]="language.code"
                  >{{ language.name }}</mat-option
                >
              </mat-select>
            </mat-form-field>
            <textarea
              matInput
              id="textTo"
              readonly
              formControlName="textTo"
            ></textarea>
            <ng-container
              *ngIf="
                this.dictionaryForm.controls['languageTo'].touched &&
                this.dictionaryForm.controls['languageTo'].value == 'auto'
              "
            >
              <span class="error-message">
                Auto is not supported!
              </span>
            </ng-container>
          </div>
        </div>
      </div>
      <div class="translation-card-actions">
        <button
          mat-fab
          extended
          color="primary"
          (click)="this.translateText()"
          [disabled]="this.dictionaryForm.invalid"
        >
          <mat-icon>g_translate</mat-icon>Translate
        </button>
        <button mat-fab extended color="primary" (click)="this.clearForm()">
          <mat-icon>clear</mat-icon>Clear
        </button>
      </div>
    </div>
  </form>
</div>
